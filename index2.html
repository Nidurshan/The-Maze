<style>
    body {
        margin: 0;
    }
</style>

<script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>

<script type="importmap">
          {
            "imports": {
              "three": "https://unpkg.com/three@0.150.1/build/three.module.js",
              "three/addons/": "https://unpkg.com/three@0.150.1/examples/jsm/"
            }
          }
        </script>


<script type="module">
    

// Import Three.js
import * as THREE from 'three';

// Create scene
const scene = new THREE.Scene();

// Create two boxes
const box1 = new THREE.BoxGeometry();
const box2 = new THREE.BoxGeometry();
const material1 = new THREE.MeshBasicMaterial({ color: 0xff0000 }); // Red color for mesh1
const material2 = new THREE.MeshBasicMaterial({ color: 0x00ff00 }); // Green color for mesh2

const mesh1 = new THREE.Mesh(box1, material1);
const mesh2 = new THREE.Mesh(box2, material2);

// Set initial positions of the boxes
mesh1.position.x = -2;
mesh2.position.x = 2;

// Set initial positions for resetting mesh1
const initialPositionMesh1 = new THREE.Vector3(mesh1.position.x, mesh1.position.y, mesh1.position.z);

// Add boxes to the scene
scene.add(mesh1);
scene.add(mesh2);

// Set up the keyboard input
const keyboard = {};
document.addEventListener('keydown', (event) => {
  keyboard[event.key] = true;
});

document.addEventListener('keyup', (event) => {
  keyboard[event.key] = false;
});

// Update function to handle movement and collision
function update() {
  // Move mesh1 based on arrow key input
  if (keyboard['ArrowUp']) mesh1.position.y += 0.1;
  if (keyboard['ArrowDown']) mesh1.position.y -= 0.1;
  if (keyboard['ArrowLeft']) mesh1.position.x -= 0.1;
  if (keyboard['ArrowRight']) mesh1.position.x += 0.1;

  // Check for collision between mesh1 and mesh2
  const distance = mesh1.position.distanceTo(mesh2.position);
  if (distance < 1.0) {
    // Collision detected, reset mesh1 to initial position
    mesh1.position.copy(initialPositionMesh1);
  }
}

// Render loop
function animate() {
  // Update movement and check for collision
  update();

  // Render the scene
  renderer.render(scene, camera);

  // Repeat the animation
  requestAnimationFrame(animate);
}

// Set up the renderer
const renderer = new THREE.WebGLRenderer();
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

// Set up the camera
const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
camera.position.z = 5;

// Start the animation
animate();

    

</script>